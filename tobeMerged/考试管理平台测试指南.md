# 考试管理平台测试指南

## 🚀 启动步骤

### 1. 后端启动
```bash
cd backend
# 激活虚拟环境
.\venv\Scripts\Activate.ps1
# 启动Django服务器
python manage.py runserver
```
后端将在 http://localhost:8000 运行

### 2. 前端启动
```bash
cd frontend
npm install
npm run serve
```
前端将在 http://localhost:8080 运行

## 📋 功能测试清单

### 管理员功能测试

#### 1. 试卷编辑功能
- **访问路径**: http://localhost:8080/exam-editor
- **测试步骤**:
  1. 创建新试卷
  2. 添加选择题、填空题、问答题
  3. 设置正确答案和分值
  4. 保存试卷

#### 2. 打分界面
- **访问路径**: http://localhost:8080/grading/{studentId}/{examId}
- **测试步骤**:
  1. 查看学生答案
  2. 修改分数
  3. 自动计算总分
  4. 保存评分结果

#### 3. 视频评价
- **访问路径**: http://localhost:8080/evaluate-video/{recordingId}
- **测试步骤**:
  1. 查看学生答题视频
  2. 添加评价意见
  3. 调整分数
  4. 保存评价

### 学员功能测试

#### 1. 答题界面
- **访问路径**: http://localhost:8080/answer/{examId}
- **测试步骤**:
  1. 允许摄像头访问
  2. 开始录制答题过程
  3. 回答各种类型题目
  4. 停止录制并提交

#### 2. 分数查看
- **访问路径**: http://localhost:8080/scores
- **测试步骤**:
  1. 查看所有考试成绩
  2. 查看详细分数分布
  3. 查看错题信息

#### 3. 错题分析
- **访问路径**: http://localhost:8080/wrong-analysis
- **测试步骤**:
  1. 查看错题列表
  2. 查看正确答案
  3. 查看解析说明

#### 4. 账户管理
- **访问路径**: http://localhost:8080/account
- **测试步骤**:
  1. 修改个人信息
  2. 更新密码
  3. 保存设置

## 🔧 API接口测试

### 使用Postman或浏览器测试以下API:

#### 试卷管理
- `GET /api/exams/exams/` - 获取试卷列表
- `POST /api/exams/exams/` - 创建新试卷
- `GET /api/exams/exams/{id}/` - 获取试卷详情

#### 问题管理
- `GET /api/exams/questions/` - 获取问题列表
- `POST /api/exams/questions/` - 创建新问题
- `PUT /api/exams/questions/{id}/` - 更新问题

#### 答题提交
- `POST /api/exams/answers/submit_answers/` - 提交答案
- `GET /api/exams/answers/` - 获取答案列表

#### 分数管理
- `GET /api/exams/scores/` - 获取分数列表
- `POST /api/exams/scores/` - 创建分数记录

#### 视频录制
- `POST /api/exams/recordings/` - 上传答题视频
- `GET /api/exams/recordings/` - 获取录制列表

#### 评价管理
- `POST /api/exams/evaluations/` - 创建评价
- `GET /api/exams/evaluations/` - 获取评价列表

## 🎯 测试数据准备

### 创建测试试卷示例:
```json
{
  "title": "Python基础测试",
  "description": "测试Python基础知识",
  "created_by": 1
}
```

### 创建测试问题示例:
```json
{
  "exam": 1,
  "text": "Python中如何定义一个函数？",
  "question_type": "multiple",
  "points": 5
}
```

### 创建选择题选项:
```json
{
  "question": 1,
  "text": "def function_name():",
  "is_correct": true
}
```

## 🐛 常见问题排查

### 1. 数据库连接问题
- 检查 `db.sqlite3` 文件是否存在
- 运行 `python manage.py migrate` 确保迁移已应用

### 2. 前端路由问题
- 检查 `router/index.js` 中的路由配置
- 确保组件文件路径正确

### 3. API接口问题
- 检查Django服务器是否正常运行
- 查看浏览器开发者工具的网络请求
- 检查CORS配置

### 4. 摄像头权限问题
- 确保浏览器允许摄像头访问
- 检查HTTPS环境（某些浏览器要求）

## 📊 性能测试

### 1. 并发测试
- 模拟多个用户同时答题
- 测试视频上传性能

### 2. 数据量测试
- 创建大量试卷和问题
- 测试分页和查询性能

## 🔒 安全测试

### 1. 权限验证
- 测试未授权访问
- 验证用户权限控制

### 2. 数据验证
- 测试输入数据验证
- 检查SQL注入防护

## 📝 测试报告模板

### 功能测试结果
- [ ] 试卷编辑功能正常
- [ ] 答题界面正常
- [ ] 摄像头录制正常
- [ ] 自动评分正常
- [ ] 手动打分正常
- [ ] 分数查看正常
- [ ] 错题分析正常
- [ ] 视频评价正常
- [ ] 账户管理正常

### 性能测试结果
- [ ] 页面加载时间 < 3秒
- [ ] API响应时间 < 1秒
- [ ] 视频上传正常
- [ ] 并发访问正常

### 安全测试结果
- [ ] 权限控制正常
- [ ] 数据验证正常
- [ ] 无安全漏洞

---

**测试完成时间**: _______________
**测试人员**: _______________
**测试环境**: Windows 10 + Python 3.13 + Node.js
